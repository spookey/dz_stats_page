{% extends '_base.html' %}
{% from 'mgnt/_macros/nav.html' import inner_navigation %}
{% from 'mgnt/_macros/show.html' import create_button %}
{% from 'mgnt/_macros/show.html' import show_mapper %}
{% from 'mgnt/_macros/show.html' import show_prompt %}
{% from 'mgnt/_macros/show.html' import show_sensor %}


{% macro _show(heading, function, things) %}
<h3 class="title">{{ heading }}</h3>
{% for thing in things %}
  {{ function(thing) }}
{% endfor %}
{% endmacro %}


{% block content %}
<section class="section">
  <div class="container">
    {{ inner_navigation() }}
    {% if mapping is defined %}
      {{ _show('Mapping', show_mapper, mapping) }}
      {{ create_button('mgnt.edit_mapper') }}
    {% endif %}
    {% if prompts is defined %}
      {{ _show('Prompts', show_prompt, prompts) }}
      {{ create_button('mgnt.edit_prompt') }}
    {% endif %}
    {% if sensors is defined %}
      {{ _show('Sensors', show_sensor, sensors) }}
      {{ create_button('mgnt.edit_sensor') }}
    {% endif %}
  </div>
</section>
{% endblock %}
